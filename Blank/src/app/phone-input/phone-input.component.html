<div class="center">
  <ion-card>
    <ion-card-header>
      <ion-list [inset]="true">
        <ion-item [button]="true" [detail]="false" id="select-country">
          <ion-avatar slot="start" class="avatar">
            <img [src]="selectedCountry.flag" [alt]="selectedCountry.name" />
          </ion-avatar>
          <ion-label>Select</ion-label>
          <div slot="end" class="" id="selected-country">
            {{ selectedCountry.name }}
          </div>
        </ion-item>
      </ion-list>
    </ion-card-header>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <div class="grid p-fluid">
        <div class="col-12 md:col-6 lg:col-4">
          <!-- <span>Cellphone number</span> -->
          <!-- <p-inputMask
            [mask]="selectedCountry.mask"
            [placeholder]="selectedCountry.mask"
            [(ngModel)]="cellphone"
            (onInput)="cellphoneChange($event)"
          >
          </p-inputMask> -->

          <ion-item>
            <ion-label position="floating">Cellphone</ion-label>
            <ion-input
              type="tel"
              [maxlength]="selectedCountry.mask.length"
              (onInput)="cellphoneChange($event)"
              [(ngModel)]="cellphone"
              [placeholder]="selectedCountry.mask"
            ></ion-input>
          </ion-item>
        </div>
      </div>
    </ion-card-header>
  </ion-card>
</div>

<ion-modal trigger="select-country" #modal>
  <ng-template>
    <app-typeahead
      class="ion-page"
      title="Select your country"
      [items]="countries"
      [selectedItems]="selectedCountry"
      (selectionChange)="countrySelection($event)"
      (selectionCancel)="modal.dismiss()"
    ></app-typeahead>
  </ng-template>
</ion-modal>

<ion-fab slot="fixed" vertical="bottom" horizontal="end">
  <ion-fab-button (click)="onSubmit()">
    <ion-icon name="caret-forward-outline"></ion-icon>
  </ion-fab-button>
</ion-fab>

<ion-modal [isOpen]="isModalOpen">
  <ng-template>
    <ion-header>
      <ion-toolbar color="primary">
        <ion-title>Register</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="setOpen(false)">Close</ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <div class="grid p-fluid ion-padding center">
        <div class="col-12 md:col-6 lg:col-4">
          <ion-item>
            <ion-label position="floating">Cellphone</ion-label>
            <ion-input
              [placeholder]="selectedCountry.mask"
              [(ngModel)]="cellphone"
              (onInput)="cellphoneChange($event)"
            ></ion-input>
          </ion-item>
        </div>

        <div class="col-12 md:col-6 lg:col-4 mt-4">
          <ion-item>
            <ion-label position="floating">Username</ion-label>
            <ion-input
              type="text"
              pInputText
              [(ngModel)]="name"
              placeholder="e.g John"
            ></ion-input>
          </ion-item>
        </div>

        <div class="col-12 md:col-6 lg:col-4 mt-4 z-50">
          <ion-item>
            <ion-label position="floating"
              >Password</ion-label
            >
            <ion-input type="password" [(ngModel)]="password" placeholder="********"></ion-input>
          </ion-item>
        </div>
      </div>

      <ion-fab slot="fixed" vertical="bottom" horizontal="end">
        <ion-fab-button (click)="Register(); setOpen(false)">
          <ion-icon name="checkmark-circle"></ion-icon>
        </ion-fab-button>
      </ion-fab>
    </ion-content>
  </ng-template>
</ion-modal>

<ion-modal [isOpen]="isUser">
  <ng-template>
    <ion-header>
      <ion-toolbar color="primary">
        <ion-title>Login</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="setIsUser(false)">Close</ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <div class="grid p-fluid ion-padding center">
        <div class="col-12 md:col-6 lg:col-4">
          <ion-item>
            <ion-label position="floating">Cellphone</ion-label>
            <ion-input
              [placeholder]="selectedCountry.mask"
              [(ngModel)]="cellphone"
              (onInput)="cellphoneChange($event)"
            ></ion-input>
          </ion-item>
        </div>

        <div class="col-12 md:col-6 lg:col-4 mt-4 z-50">
          <ion-item>
            <ion-label position="floating"
              >Password</ion-label
            >
            <ion-input type="password" [(ngModel)]="password" placeholder="********"></ion-input>
          </ion-item>
        </div>
      </div>
      <ion-fab slot="fixed" vertical="bottom" horizontal="end">
        <ion-fab-button (click)="signin(); setIsUser(false)">
          <ion-icon name="checkmark-circle"></ion-icon>
        </ion-fab-button>
      </ion-fab>
    </ion-content>
  </ng-template>
</ion-modal>
